<!-- Copyright 2021 Carnegie Mellon University. All Rights Reserved. -->
<!-- Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information. -->

<span *ngIf="created$ | async"></span>

<!-- tools -->
<div>

  <a class="btn btn-link" [routerLink]="['../registrar', 'users']">Users</a>
  <a class="btn btn-link" [routerLink]="['../registrar', 'sponsors']">Sponsors</a>
  <a class="btn btn-link" [routerLink]="['../support']">Challenges</a>
  <a class="btn btn-link" [routerLink]="['../report']">Reports</a>

</div>

<!-- game browser -->
<div class="row">

  <div class="input-group mb-4 col-12">
    <div class="input-group-prepend">
      <span id="search-label" class="input-group-text">Search</span>
    </div>
    <input id="search-input" type="search" class="form-control" [(ngModel)]="search.term" (input)="typing($event)"
      aria-label="search term" aria-describedby="search-label">
  </div>

  <!-- <div class=""> -->

    <div class="dropzone col-3">
      <app-dropzone class="" (dropped)="dropped($event)">
        <pre>Drag in a yaml game array or</pre>
        <button class="btn btn-secondary btn-sm" (click)="create()">
          <fa-icon [icon]="faPlus"></fa-icon>
          <span>New Game</span>
        </button>
      </app-dropzone>
    </div>

    <div class="wrapper col-3" *ngFor="let g of games$ | async; trackBy:trackById" (mouseenter)="on(g)"
      (mouseleave)="off(g)" (focus)="on(g)" tabindex="0">

      <app-game-card [game]="g" class="col-lg-3 col-md-4 col-6 mb-4"></app-game-card>

      <div class="overlay d-flex flex-column justify-content-center align-items-center" *ngIf="hot===g">
        <a class="btn btn-outline-info my-2" [routerLink]="['../registrar', g.id]">
          <fa-icon [icon]="faUsers"></fa-icon>
          <span>Players</span>
        </a>
        <a class="btn btn-outline-info my-2" [routerLink]="['../observer', g.id]">
          <fa-icon [icon]="faTv"></fa-icon>
          <span>Observe</span>
        </a>
        <a class="btn btn-outline-info my-2" [routerLink]="['../designer', g.id]">
          <fa-icon [icon]="faCog"></fa-icon>
          <span>Settings</span>
        </a>
        <button class="btn btn-outline-info my-2" (click)="clone(g)">
          <fa-icon [icon]="faCopy"></fa-icon>
          <span>Clone</span>
        </button>
        <div>
          <button class="btn btn-outline-info btn-sm mx-1" (click)="yaml(g)">
            <fa-icon [icon]="faCopy"></fa-icon>
            <span>yaml</span>
          </button>
          <button class="btn btn-outline-info btn-sm mx-1" (click)="json(g)">
            <fa-icon [icon]="faCopy"></fa-icon>
            <span>json</span>
          </button>
        </div>
        <app-confirm-button btnClass="btn btn-outline-danger my-2" (confirm)="delete(g)">
          <fa-icon [icon]="faTrash"></fa-icon>
          <span>Delete</span>
        </app-confirm-button>
      </div>
    </div>

  <!-- </div> -->
  <div class="my-4"></div>

  <div class="col-12 mt-4">
    <h4>Announcement</h4>
    <app-announce></app-announce>
  </div>
</div>
